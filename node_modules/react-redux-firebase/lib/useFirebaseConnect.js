"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.createUseFirebaseConnect=void 0;var _isArray2=_interopRequireDefault(require("lodash/isArray")),_react=require("react"),_query=require("./actions/query"),_utils=require("./utils"),_useFirebase=_interopRequireDefault(require("./useFirebase"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var createUseFirebaseConnect=function(){return function(dataOrFn){var firebase=(0,_useFirebase.default)(),inputAsFunc=(0,_utils.createCallable)(dataOrFn),data=inputAsFunc(),firebaseEvents=(0,_react.useMemo)(function(){if(!data)return null;if((0,_isArray2.default)(data))throw new Error("Array isn't allowed inside useFirebaseConnect hook.");return(0,_utils.getEventsFromInput)([data])},[data]);(0,_react.useEffect)(function(){if(null!==data)return(0,_query.watchEvents)(firebase,firebase.dispatch,firebaseEvents),function(){(0,_query.unWatchEvents)(firebase,firebase.dispatch,firebaseEvents)}},[data])}};exports.createUseFirebaseConnect=createUseFirebaseConnect;var _default=createUseFirebaseConnect();exports.default=_default;
//# sourceMappingURL=useFirebaseConnect.js.map